<!DOCTYPE html> 
<html lang="en"> 
  <head> 
    <title>Meet Keeper</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="stylesheet" type="text/css" href="libs/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="libs/bootstrap/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="app/stylesheets/meetkeeper.css" />
    <script type="text/javascript" src="libs/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="libs/handlebars.js"></script>
    <script type="text/javascript" src="libs/ember-1.0.0-rc.1.js"></script>
    <script type="text/javascript" src="libs/ember-data.js"></script>
    <script type="text/javascript" src="libs/localstorage_adapter.js"></script>    
    <script type="text/javascript" src="app/javascripts/app.js"></script>
    <script type="text/javascript" src="app/javascripts/router.js"></script>
    <script type="text/javascript" src="app/javascripts/models/meet.js"></script>
    <script type="text/javascript" src="app/javascripts/models/gym.js"></script>    
    <script type="text/javascript" src="app/javascripts/models/gymnast.js"></script>    
    <script type="text/javascript" src="app/javascripts/controllers/app.js"></script>
    <script type="text/javascript" src="app/javascripts/controllers/meets.js"></script>
    <script type="text/javascript" src="app/javascripts/controllers/gyms.js"></script>
    <script type="text/javascript" src="app/javascripts/controllers/gymnasts.js"></script>
  </head> 
  <body>
    <script type="text/x-handlebars" data-template-name="index">
      {{#if gymnasts}}
        {{#linkTo meets.new class="btn btn-large btn-block btn-primary"}}New meet{{/linkTo}}
      {{else}}
        <div class="alert">No gyms! You can create some here: {{#linkTo gyms.new}}Create a Gym{{/linkTo}}.</div>
      {{/if}}
    </script>
    <script type="text/x-handlebars">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <ul class="nav pull-right">
            <li>{{#linkTo sign_in}}sign in{{/linkTo}}</li>
            <li>{{#linkTo sign_up}}sign up{{/linkTo}}</li>
          </ul>
        </div>
      </div>
      <header class="page-header">
        <div class="container">
          <h1>Keeping my head above water.</h1>
        </div>
      </header>
      <div class="container">
        {{outlet}}
      </div>    
      <footer class="footer">
        {{#linkTo about}}About{{/linkTo}}
      </footer>    
    </script>      
    <script type="text/x-handlebars" data-template-name="about"></script>

    <!-- meets -->
    <script type="text/x-handlebars" data-template-name="meets">
      {{outlet}}
    </script>
    <script type="text/x-handlebars" data-template-name="meets/index">
      <ul class="nav nav-tabs nav-stacked">
        {{#each meet in controller}}
          <li>{{#linkTo meet meet}}<i class="icon icon-chevron-right"></i>{{meet.name}}{{/linkTo}}</li>
        {{/each}}
      </ul>
    </script>
    <script type="text/x-handlebars" data-template-name="meets/new">
      <form id="new-meet" class="new-form">
        <fieldset>
          <legend>New Meet</legend>
          <div class="controls">
            {{view Ember.TextField placeholder="name" valueBinding="name"}}
            {{view Ember.TextField valueBinding="date" type="date"}}
            <button {{action "createMeet"}} class="btn btn-large btn-primary" type="button">Create</button>
          </div>
        </fieldset>
      </form>
    </script>
    <script type="text/x-handlebars" data-template-name="meet">
      <div>{{name}}</div>
      <div>{{level}}</div>
      <div>{{date}}</div>
    </script> 

    <!-- gym -->
    <script type="text/x-handlebars" data-template-name="gyms">{{outlet}}</script>
    <script type="text/x-handlebars" data-template-name="gyms/index">
      <ul class="nav nav-tabs nav-stacked">
        {{#each gym in controller}}
          <li>{{#linkTo gym gym}}<i class="icon icon-chevron-right"></i>{{gym.name}}{{/linkTo}}</li>
        {{/each}}
      </ul>
    </script>
    <script type="text/x-handlebars" data-template-name="gyms/new">
      <form class="form-inline">
        {{view Ember.TextField placeholder="name" valueBinding="name"}}
        {{view Ember.TextField placeholder="location" valueBinding="location"}}
        <button {{action "createGym"}} class="btn btn-primary" type="button">Create</button>
      </form>
    </script>
    <script type="text/x-handlebars" data-template-name="gym">
      <h2>{{name}}</h2>
      <span>{{location}}</span>
      {{#linkTo gymnasts.new}}Add Gymnast{{/linkTo}}
      <ul>      
        {{#each gymnast in gymnasts}}
          <li>{{#linkTo gymnast gymnast}}<span>{{gymnast.fullName}}</span><span class="level">{{gymnast.level}}</span>{{/linkTo}}</li>
        {{/each}}
      </ul>
      {{outlet}}
    </script>

    <!-- gymnast -->
    <script type="text/x-handlebars" data-template-name="gymnasts">
      {{outlet}}
    </script>
    <script type="text/x-handlebars" data-template-name="gymnasts/index">
      <ul class="nav nav-tabs nav-stacked">
        {{#each gymnast in controller}}
          <li>{{#linkTo gymnast gymnast}}<i class="icon icon-chevron-right"></i>{{gymnast.fullName}}{{/linkTo}}</li>
        {{/each}}
      </ul>
    </script>
    <script type="text/x-handlebars" data-template-name="gymnasts/new">
      <form id="new-gymnast" class="new-form">
        <fieldset>
          <legend>New Gymnast</legend>
          <div class="controls">
            {{view Ember.TextField placeholder="first name" valueBinding="firstName"}}
            {{view Ember.TextField placeholder="last name" valueBinding="lastName"}}
            {{view Ember.TextField placeholder="level" valueBinding="level" type="number"}}
            {{view Ember.TextField valueBinding="birthDate" type="date"}}
            <button {{action "createGymnast"}} class="btn btn-primary pull-right" type="button">Create</button>
          </div>
        </fieldset>
      </form>
    </script>
    <script type="text/x-handlebars" data-template-name="gymnast">
      <div>{{fullName}}</div>
    </script>
  </body>
</html>
